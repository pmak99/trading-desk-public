# Budget Configuration for API Usage
# Edit these values to control costs

# Monthly budget limit (USD)
monthly_budget: 5.00

# Warn when reaching this percentage of budget
warn_at_percentage: 80  # Warn at $4.00

# Stop all API calls when budget exceeded
hard_stop: true

# Model selection and costs
models:
  # Perplexity models
  sonar-pro:
    cost_per_1k_tokens: 0.005  # $5 per 1M tokens
    timeout: 20  # seconds
    use_case: "daily"  # Daily routine analysis

  sonar-deep-research:
    cost_per_1k_tokens: 0.025  # $25 per 1M tokens - ACTUAL: ~$0.75/call!
    timeout: 120  # seconds - very slow, often times out
    use_case: "manual_only"  # AVOID - too expensive, use only on explicit user request
    warning: "VERY EXPENSIVE - $0.75+ per call, even timeouts are charged!"

  # GPT models via Perplexity API (uses same PERPLEXITY_API_KEY)
  gpt-4o:
    cost_per_1k_tokens: 0.001  # $1 per 1M tokens via Perplexity
    timeout: 30  # seconds
    use_case: "daily"  # Good for strategy generation

  gpt-4o-mini:
    cost_per_1k_tokens: 0.0002  # $0.20 per 1M tokens via Perplexity
    timeout: 30  # seconds
    use_case: "daily"  # Cheaper alternative

# Daily limits
daily_limits:
  max_tickers: 5  # Maximum tickers to analyze per day
  max_api_calls: 20  # Total API calls per day

  # Per-model daily limits
  sonar-pro_calls: 20  # Primary model for daily analysis (cheap!)
  sonar-deep-research_calls: 0  # DISABLED - too expensive, use manual_trigger only
  gpt-4o_calls: 10  # Strategy generation
  gpt-4o-mini_calls: 20  # Cheaper alternative for strategy generation

# Default model preferences
defaults:
  sentiment_model: "sonar-pro"  # Fast, cheap ($0.005/1k tokens)
  strategy_model: "sonar-pro"  # Same model for strategies ($0.005/1k tokens)

  # When to use deep research (DISABLED by default - too expensive!)
  # Only use when user explicitly requests it for critical decisions
  use_deep_research_when:
    manual_trigger_only: true  # Only on explicit user request
    cost_warning: "⚠️ Deep research costs ~$0.75 per call - confirm before using!"

# Alpha Vantage (free tier)
alpha_vantage:
  calls_per_day: 25  # Free tier limit
  cost_per_call: 0.00  # Free

# Logging
logging:
  enabled: true
  log_file: "data/usage.json"
  log_level: "INFO"
